# Проект интернет-магазина
Командный проект интернет магазина.
1. [Описание](#introduction)
2. [Задачи, реализованные в проекте](#paragraph1)
    1. [Оформление заказа](#subparagraph1)
    2. [Разработка страницы «История заказов» и детальной страницы истории заказов](#subparagraph2)
    3. [Создание модели и детальной страницы продавца](#subparagraph3)
    4. [Создание модели и детальной страницы товара](#subparagraph4)
    5. [Локализация сайта в админке, бэкенде и верстке](#subparagraph5)
    6. [Разработка верхнего меню и футера (верстка)](#subparagraph6)
3. [Запуск проекта в docker-compose](#paragraph2)

## Описание <a name="introduction"></a>
В данном проекте реализован интернет-магазин по продаже электроники и техники, 
проект разрабатывался командой разработчиков под руководством тимлида.
## Задачи, реализованные в проекте <a name="paragraph1"></a>
В процессе разработки проекта, для каждого участника были определены задачи, в список моих задачи входило:
- Создание модели и детальной страницы продавцов
- Создание модели и разработка детальной страницы товара
- Создание модели заказов и оформление заказа
- Разработка страницы «История заказов» и детальной страницы истории заказов
- Локализация сайта в админке, бэкенде и верстке
- Разработка верхнего меню и футера
В данном руководстве я подробно покажу результат проделанной мною работы, весь исходный код доступен в репозитории, 
в соответствующих местах я оставлю пути, для удобного поиска файлов с исходным кодом проекта.
Весь написанный код также сопровождался требуемыми тестами. Тесты можно найти
### Оформление заказа<a name="subparagraph1"></a>
Процесс оформления заказа состоит из 5 этапов, на первом этапе необходимо ввести необходимые данные о пользователе, если пользователь авторизован, то основные данные подставляются автоматически. Если пользователь не авторизован, то имеется возможность зарегистрироваться или авторизироваться. Зарегистрироваться можно прямо со страницы оформления заказа, для этого требуется ввести оригинальный e-mail пользователя, а так же два раза ввести пароль, во втором поле пароль должен быть продублирован. Вводимые данные в полях должны удовлетворять требованиям валидации.
![image](https://user-images.githubusercontent.com/116742525/233165193-3aca37e7-c310-44e5-b2b9-195a60a2e966.png)

Так же имеется возможность авторизироваться на сайте, если у вас уже есть аккаунт. Для этого необходимо нажать на кнопку "Авторизироваться".
![image](https://user-images.githubusercontent.com/116742525/233178242-74a1f8a6-019e-49a9-a9fd-4c46d20f343e.png)

На втором этапе оформляется способ доставки и конечный адрес, от способа доставки зависит конечная стоимость заказа. В settings задаются переменные, которые в дальнейшем применяются в расчете конечной стоимости в представлении.
![image](https://user-images.githubusercontent.com/116742525/233165271-20b35524-8f0a-4671-a784-bb67d52e06d8.png)

На третьем этапе выбирается способ оплаты.
![image](https://user-images.githubusercontent.com/116742525/233165327-52cc33b3-16f3-422b-9ea4-1426a7b8fd2b.png)

На четвертом этапе происходит подтверждение введенных данных, так же можно увидеть содержимое корзины и добавить комментарий к заказу. В момент подтверждения заказа все данные подставляются из кэша, и создается соответствующая запись в таблице с заказами.
![image](https://user-images.githubusercontent.com/116742525/233165529-61849ea4-307f-4a34-9de4-ae7f6593d344.png)

На последнем этапе требуется ввести код от карты и подтвердить заказ. После подтверждения мы переходим на страницу ожидания подтверждения оплаты. 
Происходит транзакция об оплате и ожидание ответа. С помощью Celery и Redis, был реализован микросервис, который позволяет во время выполнения оплаты перейти на сайт и выполнять различные действия.
![image](https://user-images.githubusercontent.com/116742525/233177901-abf0cbe2-7669-481e-873a-9f07ead40c2d.png)

### Разработка страницы «История заказов» и детальной страницы истории заказов<a name="subparagraph2"></a>
Была реализована страница страница, на которой отображаюся все заказы сделанные пользователем, отображается краткая информация о заказе и его статус.
![image](https://user-images.githubusercontent.com/116742525/233166180-aac29eac-2897-41ad-b503-0ccaa0f7f0d6.png)
На детальной странице отображается более подробная информация, можно посмотреть какие товары присутствуют в заказе и перейти к их детальным страницам.
![image](https://user-images.githubusercontent.com/116742525/233166354-2843a227-e64b-449c-b035-31c382dea2c3.png)

### Создание модели и детальной страницы продавцов и товаров<a name="subparagraph3"></a>
На детальной странице продавца отображается вся подробная информация, выводится логотип продавца. Эти данные мы получаем из соответствующих моделей. Так же на этой странице формируется рейтинг самых популярных товаров, рейтинг мы строим на основании данных, полученных из всех сделанных на сайте заказов.
![image](https://user-images.githubusercontent.com/116742525/233162926-4b068b4a-0473-4ca9-99c6-3d574f23617b.png)
В процессе разработки проекта было принято решение разделить страницы товара и продукта, товар является связующей таблицей для продуктов и продавцов, между которыми реализуется связь многие ко многим. На странице товара имеется возможность добавить в корзину, оставить отзыв или посмотреть существующие, а так же посмотреть описание товара. 
<img src="https://user-images.githubusercontent.com/116742525/233164100-bad26a0a-4836-430f-8f56-df5d59ad9d87.png" width="700">

![image](https://user-images.githubusercontent.com/116742525/233164163-05cc7da1-2339-44a9-9617-63cb9b3eb869.png)

![image](https://user-images.githubusercontent.com/116742525/233164333-c6d18f5f-916e-48ed-8635-ce215060ad4d.png)

![image](https://user-images.githubusercontent.com/116742525/233164749-021e0200-94ff-4fa8-80e8-2050745eb854.png)

![image](https://user-images.githubusercontent.com/116742525/233165086-15aa602f-569d-4fb4-b624-2ca103b66c66.png)

## Запуск проекта в docker-compose <a name="paragraph2"></a>
> Запуск проекта производится с хостовой операционной системы в режиме "Продакшн" 

В файле .env расположены "секреты" для доступа к базе данных. В переменной *POSTGRES_PORT* указывает порт проброса из контейнера в хостовую операционную систему.
Запуск осуществляется через nginx и gunicorn. Приложение должно быть доступно на порту 8181.  
**Сборка проекта**
```commandline
docker-compose build
```
**Запуск проекта**
```commandline
docker-compose up -d
```
